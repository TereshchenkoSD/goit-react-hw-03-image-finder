{"version":3,"sources":["components/Searchbar/Searchbar.styles.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.styles.jsx","components/Loader/Loader.jsx","components/services/Api.jsx","components/ImageGallery/ImageGallery.styles.jsx","components/ImageGalleryItem/ImageGalleryItem.styles.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.styles.jsx","components/Modal/Modal.jsx","App.styles.jsx","components/Button/Button.styles.jsx","components/Button/Button.jsx","App.jsx","index.js"],"names":["Header","Form","FormBtn","FormBtnLabel","FormBtnInput","Searchbar","onSearch","onSubmit","e","preventDefault","target","elements","imageName","value","type","autoComplete","autoFocus","placeholder","name","LoaderContainer","Loader","color","height","width","timeout","axios","defaults","baseURL","fetchImages","page","a","url","get","response","data","hits","Gallery","GalleryItem","GalleryItemImage","imageGalleryItem","largeImageURL","webformatURL","tags","onSelect","src","alt","onClick","ImageGallery","images","map","id","ImageGalleryItem","Overlay","ModalContainer","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Component","AppContainer","MoreButton","LoadMoreButton","defaultProps","App","state","reqStatus","showModal","selectedImage","error","handleFormSubmit","trim","resetState","setState","toast","toggleModal","handleSelectedImage","scrollPageToEnd","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","onLoadMoreBtn","prevState","status","_","onFetchImages","showImages","length","position","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0af32e35.chunk.js","sourcesContent":["import styled from '@emotion/styled/macro';\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const FormBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  \r\n  &:hover {\r\n    opacity: 1;`;\r\n\r\nexport const FormBtnLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const FormBtnInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport {\r\n  Header,\r\n  Form,\r\n  FormBtn,\r\n  FormBtnLabel,\r\n  FormBtnInput,\r\n} from './Searchbar.styles';\r\n\r\nconst Searchbar = ({ onSearch }) => {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.imageName.value);\r\n  };\r\n\r\n  return (\r\n    <Header>\r\n      <Form onSubmit={handleSearch}>\r\n        <FormBtn type=\"submit\">\r\n          <FormBtnLabel>Search</FormBtnLabel>\r\n        </FormBtn>\r\n\r\n        <FormBtnInput\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"imageName\"\r\n        />\r\n      </Form>\r\n    </Header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSearch: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import styled from '@emotion/styled/macro';\n\nexport const LoaderContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n","import Spinner from 'react-loader-spinner';\n\nimport { LoaderContainer } from './Loader.styles';\n\nconst Loader = () => {\n  return (\n    <LoaderContainer>\n      <Spinner\n        type=\"Bars\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={7000}\n      />\n    </LoaderContainer>\n  );\n};\n\nexport default Loader;\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api/`;\r\n\r\nexport const fetchImages = async (page, imageName) => {\r\n  const API_KEY = '21751428-6a671782556cc1e6de8f90ab7';\r\n\r\n  const url = `?image_type=photo&orientation=horizontal&q=${imageName}&page=${page}&per_page=12&key=${API_KEY}`;\r\n\r\n  const response = await axios.get(url);\r\n\r\n  return response.data.hits;\r\n};\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Gallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const GalleryItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const GalleryItemImage = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import PropTypes from 'prop-types';\n\nimport {\n  GalleryItem,\n  GalleryItemImage,\n} from '../ImageGalleryItem/ImageGalleryItem.styles';\n\nconst imageGalleryItem = ({ largeImageURL, webformatURL, tags, onSelect }) => {\n  return (\n    <GalleryItem>\n      <GalleryItemImage\n        src={webformatURL}\n        alt={tags}\n        onClick={() => onSelect(largeImageURL)}\n      />\n    </GalleryItem>\n  );\n};\n\nimageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string,\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default imageGalleryItem;\n","import PropTypes from 'prop-types';\n\nimport { Gallery } from './ImageGallery.styles';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onSelect }) => {\n  return (\n    <Gallery>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onSelect={onSelect}\n        />\n      ))}\n    </Gallery>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\n\nimport { Component } from 'react';\n\nimport { Overlay, ModalContainer } from './Modal.styles';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <Overlay onClick={this.handleBackdropClick}>\n        <ModalContainer>\n          <img src={this.props.largeImageURL} alt={this.props.tags} />\n        </ModalContainer>\n      </Overlay>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const AppContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;\r\n","import styled from '@emotion/styled/macro';\n\nexport const MoreButton = styled.button`\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n\n  min-width: 200px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n\n  color: rgba(33, 33, 33, 1);\n  background-color: rgba(156, 156, 156, 1);\n\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.875;\n  letter-spacing: 0.06em;\n\n  transition-property: color, background-color, box-shadow;\n  transition-duration: 250ms;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    color: rgba(245, 244, 250, 1);\n    background-color: rgba(33, 150, 243, 1);\n    box-shadow: 0px 3px 1px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.08),\n      0px 2px 2px rgba(0, 0, 0, 0.12);\n  }\n`;\n","import PropTypes from 'react';\n\nimport { MoreButton } from './Button.styles';\n\nconst LoadMoreButton = ({ onClick }) => {\n  return (\n    <MoreButton type=\"submit\" onClick={onClick}>\n      Load more\n    </MoreButton>\n  );\n};\n\nLoadMoreButton.defaultProps = {\n  onClick: () => null,\n};\n\nLoadMoreButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default LoadMoreButton;\n","import { Component } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport Searchbar from './components/Searchbar';\n\nimport Loader from './components/Loader';\n\nimport { fetchImages } from './components/services/Api';\n\nimport ImageGallery from './components/ImageGallery';\n\nimport Modal from './components/Modal';\n\nimport { AppContainer } from './App.styles';\nimport LoadMoreButton from './components/Button';\n\nexport default class App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    reqStatus: 'idle',\n    page: 1,\n    showModal: false,\n    tags: '',\n    selectedImage: '',\n    error: null,\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { imageName, page } = this.state;\n    const shouldFetch =\n      prevState.imageName !== imageName || prevState.page !== page;\n    if (shouldFetch) {\n      this.setState({ reqStatus: 'pending' });\n      this.onFetchImages();\n    }\n\n    if (page > 1) {\n      this.scrollPageToEnd();\n    }\n  }\n\n  async onFetchImages() {\n    const { imageName, page } = this.state;\n    try {\n      const images = await fetchImages(page, imageName);\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        reqStatus: 'resolved',\n      }));\n    } catch (error) {\n      this.setState({ reqStatus: 'rejected', error: true });\n      toast.error('Ooops, there is no such image');\n    }\n  }\n\n  handleFormSubmit = imageName => {\n    if (imageName.trim() === '') {\n      toast.error('Invalid search query');\n      return;\n    }\n    this.resetState();\n    this.setState({ imageName });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleSelectedImage = data => {\n    this.setState({ selectedImage: data });\n    this.toggleModal();\n  };\n\n  scrollPageToEnd = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  onLoadMoreBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  resetState = () => {\n    this.setState({\n      imageName: null,\n      page: 1,\n      images: [],\n      status: 'idle',\n    });\n  };\n\n  render() {\n    const { images, showModal, selectedImage, reqStatus, error } = this.state;\n    const showImages = images.length > 11;\n\n    return (\n      <AppContainer>\n        {error && toast.error('No such pictures on the server!')}\n        <Searchbar onSearch={this.handleFormSubmit} />\n        {reqStatus === 'pending' && <Loader />}\n        <ImageGallery onSelect={this.handleSelectedImage} images={images} />\n        {showImages && <LoadMoreButton onClick={this.onLoadMoreBtn} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={selectedImage} />\n        )}\n        <Toaster position=\"top-right\" />\n      </AppContainer>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector('#root'),\r\n);\r\n"],"sourceRoot":""}